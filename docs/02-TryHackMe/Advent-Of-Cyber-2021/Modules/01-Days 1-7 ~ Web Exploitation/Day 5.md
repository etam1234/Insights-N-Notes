---
id: Advent of Cyber 2021 Day 5
title: Day 5
---

export const Highlight = ({children, color}) => (
  <span
    style={{
      backgroundColor: color,
      borderRadius: '2px',
      color: '#fff',
      padding: '0.2rem',
    }}>
    {children}
  </span>
);

## [Day 5] <Highlight color="#621d27">Web Exploitation</Highlight> Pesky Elf Forum 

XSS - Cross-site scripting

DOM:

DOM stands for Document Object Model and is a programming interface for HTML and XML documents. It represents the page so that programs can change the document structure, style and content. A web page is a document, and this document can be either displayed in the browser window or as the HTML source.
 An example of this could be a website's JavaScript code getting the contents from the window.location.hash parameter and then write that onto the page in the currently being viewed section. 
 
Reflected:

Reflected XSS happens when user-supplied data in an HTTP request is included in the webpage source without any validation. An example of this could be an error message which is in a query string of an URL that is reflected onto the webpage. The URL could look something like the following:

https://website.thm/login?error=Username%20Is%20Incorrect

The error message could be replaced with JavaScript code which gets executed when a user visits the page.

Stored:

As the name infers, the XSS payload is stored on the web application (in a database, for example) and then gets run when other users visit the site or web page. This type of XSS can be particularly damaging due to the number of victims that may be affected. An example of this could be a blog that allows visitors to leave comments. If a visitor's message is not properly validated and checked for XSS payloads, then every subsequent visit to the blog page would run the malicious JavaScript code.

Blind:

Blind XSS is similar to a stored XSS in that your payload gets stored on the website for another user to view, but in this instance, you can't see the payload working or be able to test it against yourself first. An example of this could be a contact form. In the contact form, your message could contain an XSS payload, which when a member of staff views the message it gets executed.

![xssdemo.png](/img/_resources/Day_5/xssdemo.png)
The idea here is to provide a reflected attack and get the password for Grinch switched to a password of our choosing. 

![morexss.png](/img/_resources/Day_5/morexss.png)

No stripping means that we can apply an XSS attack in the comment section that will cause our code to deploy for Grinch.

![inspectelement.png](/img/_resources/Day_5/inspectelement.png)

The `<script>` tag tells the browser we want to run some JavaScript, and the fetch command makes a network request to the specified URL.

Disguised XSS attack - looks like nothing is happening.
![disguisedxss.png](/img/_resources/Day_5/disguisedxss.png)

![complete.png](/img/_resources/Day_5/complete.png)

And now that we successfully launched our xss against the grinch to log on, we can disable the plugin.
